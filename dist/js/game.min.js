function gameInit1(){var e=$("#game-1"),t=$(".tile",e),n=$("#pool",e),a=$("#drop",e),o=110,i=0,r=50,s=$("main",e),g=s[0].getBoundingClientRect().width/s[0].offsetWidth,l=$(".hint img",e);function c(e,t){e.data("zone",t);var n=e[0].getBoundingClientRect(),a=t[0].getBoundingClientRect();t.append(e),TweenLite.set(e,{x:(n.left-a.left)/g,y:(n.top-a.top)/g})}function d(e){return Draggable.hitTest(e,n)?n:Draggable.hitTest(e,a)?a:null}function u(n){var a,e,t;return $(".tile:not(.dragging, .moving)").each(function(e,t){if(Draggable.hitTest(n,t))return a=t,!1}),a&&(e=n,t=a,e=$(e),t=$(t),e.data("index")>t.data("index")?e.insertBefore(t):e.insertAfter(t)),a}function f(e){var t=e?".tile:not(.dragging)":".tile";n.children(t).each(m),a.children(t).each(m)}function m(e,t,n){(t=$(t)).data("index",e),t.hasClass("dragging")||(t.addClass("moving"),TweenLite.to(t,.25,{x:i,y:i+e*r+e*o,onComplete:function(){t.removeClass("moving")}}))}t.each(function(e,t){(t=$(t)).data({index:e,zone:n}),TweenLite.set(t,{x:i,y:i+e*r+e*o})}),Draggable.create(t,{bounds:e,onDrag:function(e){var t=$(this.target),n=d(t);n&&n!==t.data("zone")&&(this.endDrag(e),c(t,n),this.startDrag(e));n||f(!0);u(t)&&f()},onDragEnd:function(){var e=$(this.target),t=d(e);t&&t!==e.data("zone")&&c(e,t);$(this.target).removeClass("dragging"),u(this.target),f()},onDragStart:function(){$(this.target).addClass("dragging")},onPress:function(){TweenLite.to(this.target,.3,{opacity:.75,scale:1.1}),TweenMax.to(this.target,.2,{transformOrigin:"50%",rotation:4,ease:Power1.easeInOut,onComplete:function(){TweenMax.fromTo(this.target,.4,{transformOrigin:"50%",rotation:4,ease:Power1.easeInOut},{transformOrigin:"50%",rotation:-4,repeat:-1,ease:Power1.easeInOut,yoyo:!0})}})},onRelease:function(){u(this.target),f(),TweenLite.to(this.target,.3,{overwrite:"all",opacity:1,scale:1,rotation:0}),3==$("#drop img",e).length?(!0,drawBlob("well-done-1",600,600,200,"#141414"),setTimeout(function(){$("#item-1 .well-done").addClass("active")},500),setTimeout(game2,3500)):!1}});l.on("click",function(){$gameHint=$(".game-hint",e),TweenMax.fromTo($gameHint,.5,{x:0,opacity:.5},{x:200,ease:Power2.easeInOut,onComplete:function(){setTimeout(function(){TweenLite.to($gameHint,.5,{opacity:0})},500)}}),TweenMax.fromTo($gameHint,.7,{y:0},{y:-170,ease:Power2.easeInOut})})}function gameInit2(){var n=$("#game-2"),e=$(".tile",n),a=$("#pool",n),o=$("#drop",n),i=110,r=0,s=50,t=$("main",n),g=t[0].getBoundingClientRect().width/t[0].offsetWidth,l=$(".hint img",n);function c(e,t){e.data("zone",t);var n=e[0].getBoundingClientRect(),a=t[0].getBoundingClientRect();t.append(e),TweenLite.set(e,{x:(n.left-a.left)/g,y:(n.top-a.top)/g})}function d(e){return Draggable.hitTest(e,a)?a:Draggable.hitTest(e,o)?o:null}function u(n){var a,e,t;return $(".tile:not(.dragging, .moving)").each(function(e,t){if(Draggable.hitTest(n,t))return a=t,!1}),a&&(e=n,t=a,e=$(e),t=$(t),e.data("index")>t.data("index")?e.insertBefore(t):e.insertAfter(t)),a}function f(e){var t=e?".tile:not(.dragging)":".tile";e&&$(".dragging").addClass("hitted"),a.children(t).each(m),o.children(t).each(m)}function m(e,t,n){(t=$(t)).data("index",e),t.hasClass("dragging")||(t.addClass("moving"),TweenLite.to(t,.25,{y:0,x:r+e*s+e*i,onComplete:function(){t.removeClass("moving")}}))}e.each(function(e,t){(t=$(t)).data({index:e,zone:a}),TweenLite.set(t,{y:r,x:r+e*s+e*i})}),Draggable.create(e,{bounds:n,onDrag:function(e){var t=$(this.target),n=d(t);n&&n!==t.data("zone")&&(this.endDrag(e),c(t,n),this.startDrag(e));n||f(!0);u(t)&&f()},onDragEnd:function(){var e=$(this.target),t=d(e);t&&t!==e.data("zone")&&c(e,t);$(this.target).removeClass("dragging"),u(this.target),f()},onDragStart:function(){$(this.target).addClass("dragging")},onPress:function(){TweenLite.to(this.target,.3,{opacity:.75,scale:1.1}),TweenMax.to(this.target,.2,{transformOrigin:"50%",rotation:4,ease:Power1.easeInOut,onComplete:function(){TweenMax.fromTo(this.target,.4,{transformOrigin:"50%",rotation:4,ease:Power1.easeInOut},{transformOrigin:"50%",rotation:-4,repeat:-1,ease:Power1.easeInOut,yoyo:!0})}})},onRelease:function(){u(this.target),f(),TweenLite.to(this.target,.3,{overwrite:"all",opacity:1,scale:1,rotation:0}),$("#drop img",n).each(function(e){var t=$(this).attr("class");e==$.inArray(t,h)?$(".dot",n).eq(e).addClass("active"):$(".dot",n).eq(e).removeClass("active")}),4==$(".dot.active",n).length?(!0,drawBlob("well-done-2",600,600,200,"#141414"),setTimeout(function(){$("#item-2 .well-done").addClass("active")},500),setTimeout(game3,3500)):!1}});var h=["circle","square","triangle","diamond"];l.on("click",function(){$gameHint=$(".game-hint",n),TweenMax.fromTo($gameHint,.5,{y:0,opacity:.5},{y:-239,ease:Power2.easeInOut,onComplete:function(){setTimeout(function(){TweenLite.to($gameHint,.5,{opacity:0})},500)}}),TweenMax.fromTo($gameHint,.6,{x:0},{x:-340,ease:Power2.easeInOut})})}function tangram(e,t){var n=$("#game-3"),a=e,o=t,i=a.offset().left,r=a.offset().top,s=o.offset().left,g=o.offset().top,l=$("main",n),c=l[0].getBoundingClientRect().width/l[0].offsetWidth,d=(s-i)/c,u=(g-r)/c;Draggable.create(a,{bounds:n,onPress:function(){$(this.target);TweenLite.to(this.target,.3,{opacity:.75,scale:1.1}),TweenMax.to(this.target,.2,{transformOrigin:"50%",rotation:4,ease:Power1.easeInOut,onComplete:function(){TweenMax.fromTo(this.target,.4,{transformOrigin:"50%",rotation:4,ease:Power1.easeInOut},{transformOrigin:"50%",rotation:-4,repeat:-1,ease:Power1.easeInOut,yoyo:!0})}})},onDragEnd:function(){var e=$(this.target);e.removeClass("dragging"),this.hitTest(o)?(TweenLite.to(e,.5,{x:d,y:u,rotation:0,scale:1,opacity:1,overwrite:"all",ease:Power2.easeInOut}),e.addClass("dropped")):(TweenLite.to(e,.5,{x:0,y:0,rotation:0,scale:1,opacity:1,overwrite:"all",ease:Power2.easeInOut}),e.removeClass("dropped")),checkSolutionGame3()}})}$(function(){$("#game-1").length&&gameInit1()}),$("#game-3").on("click",".hint img",function(){TweenMax.staggerTo("#game-3 .droppable",.7,{opacity:.3,ease:Power3.easeInOut,onComplete:function(){setTimeout(function(){TweenLite.to("#game-3 .droppable",.5,{opacity:0})},1e3)}},.08)});var endGame3=!1;function checkSolutionGame3(){$g=$("#game-3"),8==$(".tangram .dropped").length?(endGame3=!0,drawBlob("well-done-3",600,600,200,"#141414"),setTimeout(function(){$("#item-3 .well-done").addClass("active")},500),setTimeout(game4,3500)):endGame3=!1}
//# sourceMappingURL=game.min.js.map
