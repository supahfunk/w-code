function gameInit1(){var e=$("#game-1"),t=$(".tile",e),n=$("#pool",e),a=$("#drop",e),i=110,o=0,r=50,s=$("main",e),g=s[0].getBoundingClientRect().width/s[0].offsetWidth,c=$(".hint img",e);function l(e,t){e.data("zone",t);var n=e[0].getBoundingClientRect(),a=t[0].getBoundingClientRect();t.append(e),TweenLite.set(e,{x:(n.left-a.left)/g,y:(n.top-a.top)/g})}function d(e){return Draggable.hitTest(e,n)?n:Draggable.hitTest(e,a)?a:null}function u(n){var a,e,t;return $(".tile:not(.dragging, .moving)").each(function(e,t){if(Draggable.hitTest(n,t))return a=t,!1}),a&&(e=n,t=a,e=$(e),t=$(t),e.data("index")>t.data("index")?e.insertBefore(t):e.insertAfter(t)),a}function f(e){var t=e?".tile:not(.dragging)":".tile";n.children(t).each(m),a.children(t).each(m)}function m(e,t,n){(t=$(t)).data("index",e),t.hasClass("dragging")||(t.addClass("moving"),TweenLite.to(t,.25,{x:o,y:o+e*r+e*i,onComplete:function(){t.removeClass("moving")}}))}t.each(function(e,t){(t=$(t)).data({index:e,zone:n}),TweenLite.set(t,{x:o,y:o+e*r+e*i})}),Draggable.create(t,{bounds:e,onDrag:function(e){var t=$(this.target),n=d(t);n&&n!==t.data("zone")&&(this.endDrag(e),l(t,n),this.startDrag(e));n||f(!0);u(t)&&f()},onDragEnd:function(){var e=$(this.target),t=d(e);t&&t!==e.data("zone")&&l(e,t);$(this.target).removeClass("dragging"),u(this.target),f()},onDragStart:function(){$(this.target).addClass("dragging")},onPress:function(){TweenLite.to(this.target,.3,{opacity:.75,scale:1.1}),TweenMax.to(this.target,.2,{transformOrigin:"50%",rotation:4,ease:Power1.easeInOut,onComplete:function(){TweenMax.fromTo(this.target,.4,{transformOrigin:"50%",rotation:4,ease:Power1.easeInOut},{transformOrigin:"50%",rotation:-4,repeat:-1,ease:Power1.easeInOut,yoyo:!0})}})},onRelease:function(){u(this.target),f(),TweenLite.to(this.target,.3,{overwrite:"all",opacity:1,scale:1,rotation:0}),3==$("#drop img",e).length?(!0,setTimeout(function(){$("#item-1 .well-done").addClass("active")},500),setTimeout(game2,2500)):!1}});c.on("click",function(){$gameHint=$(".game-hint",e),TweenMax.fromTo($gameHint,.5,{x:0,opacity:.5},{x:200,ease:Power2.easeInOut,onComplete:function(){setTimeout(function(){TweenLite.to($gameHint,.5,{opacity:0})},500)}}),TweenMax.fromTo($gameHint,.7,{y:0},{y:-170,ease:Power2.easeInOut})})}function gameInit2(){var n=$("#game-2"),e=$(".tile",n),a=$("#pool",n),i=$("#drop",n),o=110,r=0,s=50,t=$("main",n),g=t[0].getBoundingClientRect().width/t[0].offsetWidth,c=$(".hint img",n);function l(e,t){e.data("zone",t);var n=e[0].getBoundingClientRect(),a=t[0].getBoundingClientRect();t.append(e),TweenLite.set(e,{x:(n.left-a.left)/g,y:(n.top-a.top)/g})}function d(e){return Draggable.hitTest(e,a)?a:Draggable.hitTest(e,i)?i:null}function u(n){var a,e,t;return $(".tile:not(.dragging, .moving)").each(function(e,t){if(Draggable.hitTest(n,t))return a=t,!1}),a&&(e=n,t=a,e=$(e),t=$(t),e.data("index")>t.data("index")?e.insertBefore(t):e.insertAfter(t)),a}function f(e){var t=e?".tile:not(.dragging)":".tile";e&&$(".dragging").addClass("hitted"),a.children(t).each(m),i.children(t).each(m)}function m(e,t,n){(t=$(t)).data("index",e),t.hasClass("dragging")||(t.addClass("moving"),TweenLite.to(t,.25,{y:0,x:r+e*s+e*o,onComplete:function(){t.removeClass("moving")}}))}e.each(function(e,t){(t=$(t)).data({index:e,zone:a}),TweenLite.set(t,{y:r,x:r+e*s+e*o})}),Draggable.create(e,{bounds:n,onDrag:function(e){var t=$(this.target),n=d(t);n&&n!==t.data("zone")&&(this.endDrag(e),l(t,n),this.startDrag(e));n||f(!0);u(t)&&f()},onDragEnd:function(){var e=$(this.target),t=d(e);t&&t!==e.data("zone")&&l(e,t);$(this.target).removeClass("dragging"),u(this.target),f()},onDragStart:function(){$(this.target).addClass("dragging")},onPress:function(){TweenLite.to(this.target,.3,{opacity:.75,scale:1.1}),TweenMax.to(this.target,.2,{transformOrigin:"50%",rotation:4,ease:Power1.easeInOut,onComplete:function(){TweenMax.fromTo(this.target,.4,{transformOrigin:"50%",rotation:4,ease:Power1.easeInOut},{transformOrigin:"50%",rotation:-4,repeat:-1,ease:Power1.easeInOut,yoyo:!0})}})},onRelease:function(){u(this.target),f(),TweenLite.to(this.target,.3,{overwrite:"all",opacity:1,scale:1,rotation:0}),$("#drop img",n).each(function(e){var t=$(this).attr("class");e==$.inArray(t,h)?$(".dot",n).eq(e).addClass("active"):$(".dot",n).eq(e).removeClass("active")}),4==$(".dot.active",n).length?(!0,setTimeout(function(){$("#item-2 .well-done").addClass("active")},500),setTimeout(game3,2500)):!1}});var h=["circle","square","triangle","diamond"];c.on("click",function(){$gameHint=$(".game-hint",n),TweenMax.fromTo($gameHint,.5,{y:0,opacity:.5},{y:-239,ease:Power2.easeInOut,onComplete:function(){setTimeout(function(){TweenLite.to($gameHint,.5,{opacity:0})},500)}}),TweenMax.fromTo($gameHint,.6,{x:0},{x:-340,ease:Power2.easeInOut})})}function tangram(e,t){var n=$("#game-3"),a=e,i=t,o=a.offset().left,r=a.offset().top,s=i.offset().left,g=i.offset().top,c=$("main",n),l=c[0].getBoundingClientRect().width/c[0].offsetWidth,d=(s-o)/l,u=(g-r)/l;Draggable.create(a,{bounds:n,onPress:function(){$(this.target);TweenLite.to(this.target,.3,{opacity:.75,scale:1.1}),TweenMax.to(this.target,.2,{transformOrigin:"50%",rotation:4,ease:Power1.easeInOut,onComplete:function(){TweenMax.fromTo(this.target,.4,{transformOrigin:"50%",rotation:4,ease:Power1.easeInOut},{transformOrigin:"50%",rotation:-4,repeat:-1,ease:Power1.easeInOut,yoyo:!0})}})},onDragEnd:function(){var e=$(this.target);e.removeClass("dragging"),this.hitTest(i)?(TweenLite.to(e,.5,{x:d,y:u,rotation:0,scale:1,opacity:1,overwrite:"all",ease:Power2.easeInOut}),e.addClass("dropped")):(TweenLite.to(e,.5,{x:0,y:0,rotation:0,scale:1,opacity:1,overwrite:"all",ease:Power2.easeInOut}),e.removeClass("dropped")),checkSolutionGame3()}})}$(function(){$("#game-1").length&&gameInit1()}),$("#game-3").on("click",".hint img",function(){TweenMax.staggerTo("#game-3 .droppable",.7,{opacity:.3,ease:Power3.easeInOut,onComplete:function(){setTimeout(function(){TweenLite.to("#game-3 .droppable",.5,{opacity:0})},1e3)}},.08)});var endGame3=!1;function checkSolutionGame3(){$g=$("#game-3"),8==$(".tangram .dropped").length?(endGame3=!0,setTimeout(function(){$("#item-3 .well-done").addClass("active")},500),setTimeout(game4,2500)):endGame3=!1}blob2=new Blob,blob2.radius=200,blob2.strokeStyle="#141414";var end=document.getElementById("end");init2=function(){canvas=document.createElement("canvas"),canvas.setAttribute("touch-action","none"),end.appendChild(canvas),canvas.setAttribute("id","end-canvas");var e=function(){canvas.width=window.innerWidth,canvas.height=window.innerHeight};window.addEventListener("resize",e),e();var d={x:0,y:0},u=!1;window.addEventListener("pointermove",function(e){var t=blob2.center,n=e.clientX-t.x,a=e.clientY-t.y,i=Math.sqrt(n*n+a*a),o=null;if(blob2.mousePos={x:t.x-e.clientX,y:t.y-e.clientY},blob2.color="#fff",i<blob2.radius&&!1===u){var r={x:e.clientX-t.x,y:e.clientY-t.y};o=Math.atan2(r.y,r.x),u=!0}else if(i>blob2.radius&&!0===u){var s={x:e.clientX-t.x,y:e.clientY-t.y};o=Math.atan2(s.y,s.x),u=!1,blob2.color=null}if("number"==typeof o){var g=null,c=100;if(blob2.points.forEach(function(e){Math.abs(o-e.azimuth)<c&&(g=e,c=Math.abs(o-e.azimuth))}),g){var l={x:d.x-e.clientX,y:d.y-e.clientY};100<(l=10*Math.sqrt(l.x*l.x+l.y*l.y))&&(l=100),g.acceleration=l/100*(u?-1:1)}}d.x=e.clientX,d.y=e.clientY}),blob2.canvas=canvas,blob2.init(),blob2.render()};
//# sourceMappingURL=game.min.js.map
